<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (92% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/BaseFIOSDK.html">BaseFIOSDK</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FIOSDK.html">FIOSDK</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FIOSDK.html#/s:6FIOSDKAAC9ResponsesO">– Responses</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FIOSDK.html#/s:6FIOSDKAAC6ParamsO">– Params</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:6FIOSDK8SUFUtilsC">SUFUtils</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='fio-swift-ios-sdk' class='heading'>FIO Swift iOS SDK</h1>

<p>The Foundation for Interwallet Operability (FIO) is a consortium of leading blockchain wallets, exchanges and payments providers that seeks to accelerate blockchain adoption by reducing the risk, complexity, and inconvenience of sending and receiving cryptoassets.</p>

<p>For information on FIO, visit the <a href="https://fio.foundation">FIO website</a>.</p>

<p>For information on the FIO Chain, API, and SDKs visit the <a href="https://developers.fioprotocol.io">FIO Protocol Developer Hub</a>.</p>
<h1 id='technology' class='heading'>Technology</h1>

<p>The FIO iOS SDK is developed in Swift.</p>
<h1 id='version' class='heading'>Version</h1>

<p>Visit the <a href="https://developers.fioprotocol.io">FIO Protocol Developer Hub</a> to get information on FIO SDK versions. Only use an SDK that has a major version number that matches the current FIO Protocol blockchain major version number (e.g. 1.x.x).</p>
<h1 id='building-the-fio-ios-sdk' class='heading'>Building The FIO iOS SDK</h1>
<h2 id='builds-the-sdk-for-use-in-the-app-store' class='heading'>builds the SDK for use in the app store</h2>
<pre class="highlight plaintext"><code>in terminal, navigate to the main folder and run the command:
    ./buildsdk_appstore.sh
</code></pre>
<h2 id='builds-the-sdk-for-use-in-another-project-for-simulator-usage' class='heading'>builds the SDK for use in another project, for simulator usage</h2>
<pre class="highlight plaintext"><code>in terminal, navigate to the main folder and run the command:
    ./buildsdk_simulator.sh 
</code></pre>
<h1 id='generating-documentation' class='heading'>Generating Documentation</h1>

<p>Jazzy is used to generate documentation. After installing jazzy via &lsquo;[sudo] gem install jazzy&rsquo;.</p>
<pre class="highlight plaintext"><code>in terminal, navigate to the main folder, and run this build script:
    ./build_docs.sh

i.e. https://github.com/realm/jazzy
</code></pre>

<p>The documentation will appear in the folder &ldquo;docs&rdquo; in the root of the project.</p>
<h1 id='using-the-sdk' class='heading'>Using the SDK</h1>

<p>The SDK uses a singleton model requiring initialization in the constructor as these parameters are referenced in subsequent SDK Calls.</p>
<h2 id='base-url-for-testnet' class='heading'>Base URL for TestNet</h2>
<pre class="highlight plaintext"><code>http://testnet.fioprotocol.io/v1/
</code></pre>
<h2 id='testnet-monitor-tool' class='heading'>TestNet Monitor Tool</h2>
<pre class="highlight plaintext"><code>https://monitor.testnet.fioprotocol.io/
</code></pre>
<h2 id='initializing-the-sdk' class='heading'>Initializing the SDK</h2>
<pre class="highlight plaintext"><code>privateKey/publicKey - the wallet user's private/public keys
url - the base URL to the FIO Protocol blockchain API (e.g., http://testnet.fioprotocol.io/v1/)
mockUrl - the URL of the server used to auto-register FIO names for wallet users. This is only used by wallets that have deployed a central server used to register names on their domain. It is used by the registerOnBehalfOfUser method
walletFioAddress - FIO Address of the wallet which generates this transaction.  Set to empty if not known. (i.e. TPID)

Constructor for Singleton:

    sharedInstance(privateKey:String? = nil, publicKey:String? = nil, url:String? = nil, mockUrl: String? = nil, walletFioAddress: String? = nil)
</code></pre>

<p>The user&rsquo;s private/public key can be generated by calling this method on the sdk:
    privatePublicKeyPair</p>
<h2 id='using-the-sdk' class='heading'>Using the SDK</h2>
<h3 id='example-usage-in-swift' class='heading'>Example Usage in Swift</h3>
<pre class="highlight plaintext"><code>let fioSDK _ = FIOSDK.sharedInstance(privateKey: privateKey, publicKey: publicKey, url: defaultServer, mockUrl: mockUrl)
</code></pre>
<h1 id='sdk-conventions' class='heading'>SDK Conventions</h1>
<h2 id='sdk-source-code-project' class='heading'>SDK Source Code Project</h2>

<p>The FIOSDK project has the FIOSDK framework and unit tests. Testing all functionality of the SDK.</p>
<h2 id='sdk-coding-methodology-and-conventions' class='heading'>SDK Coding Methodology and Conventions</h2>

<p>The FIO SDK Coding Methodology and Conventions follow swift patterns and conventions.  For usage in Swift language based iOS applications.</p>
<h3 id='class-conventions' class='heading'>Class Conventions</h3>
<pre class="highlight plaintext"><code>Singleton’s are used for accessing SDK functionality. Using the sharedInstance() convention.
</code></pre>

<p>####Examples<br>
    FIOSDK.sharedInstance().isFioNameValid(fioName: &ldquo;test@brd&rdquo;)
 ####Caller Style
    Method calls are asynchronous and follow the swift closure style for these calls.
 ####Examples
    FIOSDK.sharedInstance().getFioNameByAddress(publicAddress: receiveAddress, 
            currencyCode:&ldquo;ETH&rdquo;, completion:  {result, error in ()
                        print (result.name) 
        })</p>
<h4 id='error-handling' class='heading'>Error Handling</h4>
<pre class="highlight plaintext"><code>Errors are returned within the closure for asynchronous methods.  These are returned in the error object within the closure.  The type of error and status can be determined by evaluating the error?.kind property.  
</code></pre>
<h4 id='examples' class='heading'>Examples</h4>
<pre class="highlight plaintext"><code>if (error?.kind == FIOError.ErrorKind.Success){ 
    print(“success”) 
 }
</code></pre>
<h2 id='validation' class='heading'>Validation</h2>
<pre class="highlight plaintext"><code>The FIO iOS SDK has validation methods for validating your data.  
See the BaseFIOSDK section for validation methods.
</code></pre>
<h2 id='sufs' class='heading'>SUFs</h2>
<pre class="highlight plaintext"><code>There are 1,000,000,000 Smallest Units of FIO (SUFs) inside 1 FIO.
</code></pre>
<h4 id='suf-utilities' class='heading'>SUF Utilities</h4>
<pre class="highlight plaintext"><code>Use the ####SUFUtils convenience class for converting between SUFs and FIO.
</code></pre>
<h1 id='workflow-for-using-the-sdk-with-testnet' class='heading'>Workflow for using the SDK with TestNet</h1>

<p>Most Signed API calls charge fees and require a FIO address that is associated with the user making the call. </p>
<h4 id='creating-a-test-account-with-fio-tokens' class='heading'>Creating a test account with FIO tokens</h4>

<p>When running a test you will want to register addresses and transfer funds. But, registering a new address for the first time requires FIO tokens. Therefore, some manual setup is required to associate FIO tokens with a FIO public key. To set up a FIO public key with FIO tokents in a test environment:</p>

<ol>
<li>Manually create two private/public FIO key pairs 

<ol>
<li>Navigate to the website: <a href="https://monitor.testnet.fioprotocol.io">https://monitor.testnet.fioprotocol.io</a></li>
<li>Select the &lsquo;Create Keypair&rsquo; button (top left of the website)</li>
<li>Copy the keypairs and FIO Internal Account</li>
</ol></li>
<li>Manually register a FIO address for both of these FIO key pairs. 

<ol>
<li>Navigate to the website: <a href="https://monitor.testnet.fioprotocol.io">https://monitor.testnet.fioprotocol.io</a></li>
<li>Select the &lsquo;Register Address&rsquo; button</li>
<li>Type in a FIO address</li>
<li>Paste in one of the public keys (created above)</li>
<li>Select the &lsquo;Create&rsquo; button</li>
<li>Do this for each public key pair (twice).  The created FIO address will be in this format, &ldquo;mytest:fiotestnet&rdquo;</li>
</ol></li>
<li>Manually transfer funds into these FIO addresses.

<ol>
<li>Navigate to the website: <a href="https://monitor.testnet.fioprotocol.io">https://monitor.testnet.fioprotocol.io</a></li>
<li>Select the &lsquo;Faucet&rsquo; button</li>
<li>Paste in one of the public keys (created above)</li>
<li>Select the &lsquo;Send Coins&rsquo; button</li>
<li>Do this for each public key pair (twice)</li>
</ol></li>
<li>These FIO public addresses now have funds available for making Signed API calls.</li>
<li>Edit the test script to add these FIO addresses and the private/public FIO key pairs

<ol>
<li>Edit the privateKey, publicKey, privateKey2, publicKey2, testFioAddressName, testFioAddressName2 variables in the test file</li>
</ol></li>
<li>Run the tests: 
Within xCode, select from the menu: 
    Product &gt; Test</li>
</ol>
<h4 id='when-calling-a-signed-api-call-that-charges-fees' class='heading'>When calling a Signed API call that charges FEES,</h4>

<p>Use the following steps to determine the fee and pass it to the signed call.</p>
<pre class="highlight plaintext"><code>1. Call getFee to get the fee for the Signed API call
2. Call the API Signed call with the fee
</code></pre>
<h1 id='fio-keys' class='heading'>FIO Keys</h1>
<h2 id='generating-fio-private-public-keys' class='heading'>Generating FIO Private/Public Keys?</h2>

<p>The SDK provides methods to generate FIO Private/Public Key pairs.<br>
    Use this method:</p>
<h4 id='fiosdk-privatepublickeypair' class='heading'>FIOSDK().privatePublicKeyPair</h4>
<h2 id='generating-fio-private-public-keys-without-using-the-sdk' class='heading'>Generating FIO Private/Public Keys without using the SDK?</h2>

<p>The following information can be used to manually generate FIO keys:</p>

<p>FIO Keys use SLIP-235 for BIP-0044.
<a href="https://github.com/satoshilabs/slips/blob/master/slip-0044.md">https://github.com/satoshilabs/slips/blob/master/slip-0044.md</a></p>

<p>Following the EOS example of private and public key generation. We replace EOS slip &lsquo;194&rsquo; with &lsquo;235&rsquo;.  And &lsquo;EOS&rsquo; public key prefix with &lsquo;FIO&rsquo;.
<a href="https://eosio.stackexchange.com/questions/397/generate-eos-keys-from-mnemonic-seed">https://eosio.stackexchange.com/questions/397/generate-eos-keys-from-mnemonic-seed</a></p>
<h2 id='fio-key-derivation-path' class='heading'>FIO Key Derivation Path:</h2>

<p>&ldquo;44&rsquo;/235&rsquo;/0&rsquo;/0/0&rdquo;</p>
<h2 id='fio-key-generation-testing' class='heading'>FIO Key Generation Testing</h2>

<p>Using this mnemonic phrase:
&ldquo;valley alien library bread worry brother bundle hammer loyal barely dune brave&rdquo;</p>

<p>This is the expected Private Key:
&ldquo;5Kbb37EAqQgZ9vWUHoPiC2uXYhyGSFNbL6oiDp24Ea1ADxV1qnu&rdquo;</p>

<p>This is the expected Public Key:
&ldquo;FIO5kJKNHwctcfUM5XZyiWSqSTM5HTzznJP9F3ZdbhaQAHEVq575o&rdquo;</p>
<h1 id='release-notes' class='heading'>Release Notes</h1>
<h2 id='version-1-0-0' class='heading'>Version 1.0.0</h2>

<p>Added additional Unit Tests for Encryption.  Comparing and Validating results across the kotlin, iOS and typescript SDKs.
No changes to the SDK code base.</p>
<h2 id='version-0-9-2' class='heading'>Version 0.9.2</h2>

<p>Updated and cleaned up SDK code base.
Finalization of method names and parameter names and order</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2020-03-24)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
